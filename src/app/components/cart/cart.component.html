<div class="container">
  <button (click)="clearUserCart()" class="btn btn-outline-danger ms-auto d-block my-3" >Clear Cart</button>
  <div *ngFor="let product of cartProducts;let i = index" class="row my-3 shadow p-2 rounded-2">
    <div class="col-md-1">
      <img [src]="product.product.imageCover" class="w-100" alt="" />
    </div>
    <div class="col-md-11">
      <div class="d-flex justify-content-between py-1">
        <h3>{{ product.product.title }}</h3>
        <button (click)="removeCartProduct(product.product.id)" class="btn text-danger" > <i class="fas fa-trash"></i>Remove</button>
      </div>
     <div class="d-flex justify-content-between py-1">
      <h5>{{product.product.category.name}}</h5>
      <div class="d-flex">
        <button (click)="updateCartCount(product.product.id,product.count -1,i)" class="btn bg-main text-white mx-2 px-2 py-1">-</button>
        <!-- <span>{{product.count}}</span> -->
        <input [(ngModel)]="productCount" (input)="updateCartCount(product.product.id,productCount,i)" class="px-1 text-center form-control" type="text" placeholder="{{product.count}}">
        <button (click)="updateCartCount(product.product.id,product.count +1,i)" class="btn bg-main text-white mx-2 px-2 py-1">+</button>
      </div>
     </div>
      <p class="d-flex justify-content-between py-1" >
        <span>EGP : {{product.price}}</span>
        <span class="pe-3 me-3"><i class="fas fa-star rating-color"></i>{{product.product.ratingsAverage}}</span>
      </p>
    </div>
  </div>
<h2 *ngIf="(errorMessage || cartProducts.length==0) && !isLooding" class="alert alert-danger text-center" >No Products in your cart</h2>
 <div class="d-flex justify-content-between my-3">
<button *ngIf="cartProducts.length!=0" routerLink="/checkout/{{cartid}}" class="btn bg-main text-white  " >Checkout</button>
<span class=" d-block ms-auto h5 ">Total Cart Price : <span class="fw-bolder"> {{totalCartPrice}} EGP</span></span>
 </div>
</div>
